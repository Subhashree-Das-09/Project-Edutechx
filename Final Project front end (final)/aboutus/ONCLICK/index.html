<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Document</title>
    <link rel="stylesheet" href="./style.css" />
    <style>
      .a1{
        font-weight: 700; 
      }
      .a1:after{
        width: 100%;
      }
    </style>
  </head>
  <body>
    <div class="first">
      <img src="./Layer_1.png" alt="logo" class="logo" />
      <p>XYZ university</p>
    </div>
    <div class="container">
      <span class="arrow up">&#x2303;</span>
      <div class="text-wrapper">
        <div class="text prev">Classroom</div>
        <div class="text current">Main Building</div>
        <div class="text next">Open Area</div>
        <div class="text hide">Auditorium</div>
      </div>
      <span class="arrow down">&#x2303;</span>
    </div>
    <div class="pic">
      <img src="./Gallery/1x/MB.png" alt="mb" class="galimg"/>
    </div>
    <nav>
      <a href="./index.html" class="a1">Main Campus</a>
      <a href="./index2.html" class="a2">Lab</a>
      <a href="./index3.html" class="a3">Canteen</a>
      <a href="./index4.html" class="a4">Library</a>
      <a href="./index5.html" class="a5">Hostel</a>
  </nav>
  <script src='https://cdnjs.cloudflare.com/ajax/libs/gsap/3.3.3/gsap.min.js'></script>
  <script>
 document.querySelector(".first").addEventListener("click", ()=>{
  window.location.href= "../../Home-page/Home.html";
 });

const downArrow = document.querySelector('.down');
const upArrow = document.querySelector('.up');

const currentDiv = document.querySelector('.current');
const previousDiv = document.querySelector('.prev');
const nextDiv = document.querySelector('.next');
const hideDiv = document.querySelector('.hide');

const { gsap } = window;

downArrow.addEventListener('click', () => {
  animateContentChange('down');
  
});

upArrow.addEventListener('click', () => {
  animateContentChange('up');

});

function animateContentChange(direction) {
  const currentText = currentDiv.textContent;
  const prevText = previousDiv.textContent;
  const hideText = hideDiv.textContent;
  const nextText = nextDiv.textContent;

  const tl = gsap.timeline({
    onComplete: () => {
      changeImage();
    }
  });


  if (direction === 'down') {
    tl.to([currentDiv, previousDiv, hideDiv, nextDiv], { duration: 0.3, opacity: 0 })
      .set(currentDiv, { textContent: nextText })
      .set(nextDiv, { textContent: hideText })
      .set(hideDiv, { textContent: prevText })
      .set(previousDiv, { textContent: currentText })
      .to([currentDiv, previousDiv, hideDiv, nextDiv], { duration: 0.3, opacity: 1 });
  } else if (direction === 'up') {
    tl.to([currentDiv, previousDiv, hideDiv, nextDiv], { duration: 0.3, opacity: 0 })
    .set(currentDiv, { textContent: prevText })
    .set(previousDiv, { textContent: hideText })
    .set(hideDiv, { textContent: nextText })
    .set(nextDiv, { textContent: currentText })
      .to([currentDiv, previousDiv, hideDiv, nextDiv], { duration: 0.3, opacity: 1 });
  }

  
}

const image = document.querySelector('.galimg');

function changeImage() {
  const newText = currentDiv.innerText;
  const image = document.querySelector('.galimg');

  let imageTimeline = gsap.timeline();
  imageTimeline.to(image, { duration: 0.3, opacity: 0, x: -50, onComplete: updateImage });

  function updateImage() {
   if(newText == 'Main Building') {
      image.src = './Gallery/1x/MB.png'; 
    } else if(newText == 'Classroom') {
      image.src = './Gallery/1x/Classroom.png'; 
    } else if(newText == 'Open Area') {
      image.src = './Gallery/1x/open area.jpg';   
    } else if(newText == 'Auditorium') {
      image.src = './Gallery/1x/Auditorium.png'; 
    }

    imageTimeline = gsap.timeline();
    imageTimeline.to(image, { duration: 0.3, opacity: 1, x: 0 });
  }
}


  </script>
  </body>
</html>
